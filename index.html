<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Order Now</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: #f4f4f4;
      padding: 20px;
      display: flex;
      justify-content: center;
    }

    .container {
      background-color: #003b5b;
      padding: 30px 25px;
      border-radius: 10px;
      max-width: 750px;
      width: 100%;
      color: white;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    h1 {
      margin-bottom: 20px;
      font-size: 50px;
    }

    .image-gallery {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }

    .portrait {
      width: 100%;
      height: auto;
      border-radius: 10px;
      cursor: zoom-in;
      transition: transform 0.3s ease;
    }

    .portrait:active {
      transform: scale(2);
    }

    input[type="text"],
    input[type="tel"],
    select.input-style {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 5px;
      border: none;
      font-size: 16px;
    }

    .order-section,
    .payment-options {
      background-color: white;
      color: #003b5b;
      padding: 10px 15px;
      border-radius: 5px;
      margin-bottom: 12px;
      font-size: 16px;
      text-align: left;
    }

    .order-section strong,
    .payment-options strong {
      display: block;
      margin-bottom: 8px;
      font-size: 18px;
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      flex-wrap: wrap;
    }

    .order-label {
      flex: 1;
      min-width: 200px;
    }

    .order-label input[type="checkbox"] {
      margin-right: 6px;
    }

    .qty {
      width: 60px;
      padding: 5px;
      font-size: 14px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .note {
      font-size: 14px;
      margin-top: 5px;
      margin-bottom: 15px;
      color: #f0f0f0;
    }

    #submit {
      width: 100%;
      padding: 12px;
      background-color: orangered;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    #submit:hover {
      background-color: #ff5722;
    }

    @media (max-width: 600px) {
      .order-item {
        flex-direction: column;
        align-items: flex-start;
      }

      .qty {
        margin-top: 5px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Order Now</h1>

    <div class="image-gallery">
      <img src="$10 (1).jpg" alt="Portrait 1" class="portrait" />
      <img src="$10 (2).jpg" alt="Portrait 2" class="portrait" />
      <img src="$10 (5).jpg" alt="Portrait 3" class="portrait" />
      <img src="1.jpg" alt="Portrait 4" class="portrait" />
    </div>

    <form name="contact-form" method="post">
      <input type="text" name="Name" placeholder="Name" required />
      <select name="Dorm" id="dorm" required class="input-style">
        <option value="" disabled selected>Select your dorm</option>
        <option>Other Place</option>
        <option>Acacia</option>
        <option>Cadena</option>
        <option>Catleya</option>
        <option>Chrysantemun</option>
        <option>Dama</option>
        <option>Ilang Ilang</option>
        <option>Mahogany</option>
        <option>Molave A</option>
        <option>Molave B</option>
        <option>Molave C</option>
        <option>Narra</option>
        <option>Sampaguita</option>
        <option>Waling-Waling</option>
      </select>

      <input type="text" name="SpecificPlace" id="specific-place" placeholder="Please specify the location" style="display: none;" />

      <div class="order-section">
        <strong>Rice Bowl Only</strong>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="5pcs Siomai w/ java rice - ₱60" data-price="60">5pcs Siomai w/ java rice - ₱60 </label><input type="number" class="qty" name="Qty1" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="3pcs Siomai & hotdog with java rice - ₱69" data-price="69">3pcs Siomai & hotdog with java rice - ₱69</label><input type="number" class="qty" name="Qty2" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="4pcs Siomai w/ Hotdog - ₱45" data-price="45">4pcs Siomai w/ Hotdog - ₱45(NOT AVAILABLE)</label><input type="number" class="qty" name="Qty3" min="1" value="1" disabled></div>

        <strong>Siomai Only</strong>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="4pcs Siomai - ₱25" data-price="25">4pcs Siomai - ₱25</label><input type="number" class="qty" name="Qty4" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="8pcs Siomai - ₱50" data-price="50">8pcs Siomai - ₱50</label><input type="number" class="qty" name="Qty5" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="10pcs Siomai - ₱60" data-price="60">10pcs Siomai - ₱60</label><input type="number" class="qty" name="Qty6" min="1" value="1" disabled></div>

        <strong>Drinks Only</strong>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="Coke - ₱25" data-price="25">Pinoy Cola - ₱25</label><input type="number" class="qty" name="Qty7" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="C2 - ₱20" data-price="20">C2 - ₱20</label><input type="number" class="qty" name="Qty8" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="MDew - ₱25" data-price="25">MDew - ₱25 (Not Available)</label><input type="number" class="qty" name="Qty9" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="Royal - ₱25" data-price="25">Royal - ₱25 (NOT AVAILABLE) </label><input type="number" class="qty" name="Qty10" min="1" value="1" disabled></div>

        <strong>Combo Meal</strong>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="5pcs Siomai-Rice w/ Drinks - ₱82" data-price="82">5pcs Siomai-Rice w/ Drinks - ₱82(NOT AVAILABLE)</label><input type="number" class="qty" name="Qty11" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="3pcs Siomai-Hotdog-Rice w/Drinks - ₱90" data-price="90">3pcs Siomai-Hotdog-Rice w/Drinks - ₱90(NOT AVAILABLE)</label><input type="number" class="qty" name="Qty12" min="1" value="1" disabled></div>

         <strong>Chicken Bowl</strong>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="2pcs Chicken with Rice - ₱90" data-price="90">2pcs Chicken with Rice - ₱90(NOT AVAILABLE)</label><input type="number" class="qty" name="Qty11" min="1" value="1" disabled></div>
        <div class="order-item"><label class="order-label"><input type="checkbox" name="Order" value="2pcs Chicken with Rice w/Drinks - ₱110" data-price="110">2pcs Chicken w/Drinks - ₱110 (NOT AVAILABLE)</label><input type="number" class="qty" name="Qty12" min="1" value="1" disabled></div>
      </div>

      <input type="text" name="Order Notes" placeholder="Optional: location or instruction" />
      <input type="tel" name="Phone" placeholder="Phone Number" pattern="[0-9]{11}" required />

      <div class="payment-options">
        <strong>Mode of Payment</strong>
        <label><input type="radio" name="Mode of Payment" value="Cash" required /> Cash</label>
        <label><input type="radio" name="Mode of Payment" value="GCash" required /> GCash</label>
      </div>

      <p class="note">Delivery time:6:30-9:00Pm</p>
      <p class="note">GCash: 09922788477 – Rex Dominic Perico</p>

      <input type="submit" value="Submit" id="submit" />
    </form>
  </div>

  <script>
    const form = document.forms['contact-form'];
    const specificPlace = document.getElementById('specific-place');
    const dormSelect = document.getElementById('dorm');
    const container = document.querySelector('.container');

    form.querySelectorAll('.order-item').forEach(item => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      const qty = item.querySelector('input[type="number"]');
      checkbox.addEventListener('change', () => {
        qty.disabled = !checkbox.checked;
        if (checkbox.checked) qty.value = 1;
      });
    });

    dormSelect.addEventListener('change', () => {
      specificPlace.style.display = dormSelect.value === 'Other Place' ? 'block' : 'none';
      specificPlace.required = dormSelect.value === 'Other Place';
    });

    form.addEventListener('submit', e => {
      e.preventDefault();
      const formData = new FormData(form);
      const orders = formData.getAll('Order');
      let total = 0;
      const updatedOrders = orders.map(order => {
        const item = form.querySelector(`input[value="${order}"]`);
        const qtyInput = item.closest('.order-item').querySelector('input[type="number"]');
        const qty = parseInt(qtyInput.value) || 1;
        const price = parseInt(item.getAttribute('data-price')) || 0;
        total += qty * price;
        return `${order} (x${qty})`;
      });

      formData.delete('Order');
      formData.append('Order', updatedOrders.join(', '));
      formData.append('Total', `₱${total}`);

      fetch('https://script.google.com/macros/s/AKfycbxDnK8YAQykJgx6Y0SaxQX-VjoBqXkOU83l0ZFc84qIMcb6M6TwZP1c0BeIFdgF4lgZ/exec', {
        method: 'POST',
        body: formData
      })
      .then(() => {
        container.innerHTML = `
          <h1 style="font-size: 36px; margin-bottom: 20px;">✅ Please wait at the lobby.Delivery time:6:30-0:00Pm. Thank you for ordering!</h1>
          <p style="font-size: 22px; margin-bottom: 20px;">Gcash# -09922788477</p>
          <p style="font-size: 22px; margin-bottom: 20px;">Total Amount: <strong>₱${total}</strong></p>
          <button onclick="location.reload()" style="
            padding: 12px 24px;
            font-size: 16px;
            background-color: orangered;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
          ">Order Again</button>
        `;
      })
      .catch(() => {
        alert("Submission failed. Please try again.");
      });
    });
  </script>
</body>
</html>
